server {
    listen 80;
    server_name _;

    # ตั้งค่า root directory ของ Nginx
    root   /usr/share/nginx/html;
    index  index.html index.htm;

    location / {
        # คำสั่งนี้สำคัญที่สุดสำหรับ Blazor WASM
        # หาก Nginx หาไฟล์ตาม URL ที่ร้องขอไม่เจอ ($uri) หรือหาโฟลเดอร์ไม่เจอ ($uri/)
        # ให้มันส่งคำร้องกลับไปที่ /index.html เสมอ
        # เพื่อให้ Blazor Router ทำงานและแสดงหน้าเว็บที่ถูกต้อง
        try_files $uri $uri/ /index.html;
    }

    # ตั้งค่าอื่นๆ เพิ่มเติมได้ตามต้องการ เช่น การบีบอัดข้อมูล (gzip)
    gzip on;
    gzip_vary on;
    gzip_proxied any;
    gzip_comp_level 6;
    gzip_types text/plain text/css text/xml application/json application/javascript application/xml+rss application/wasm;
}
